<!-- templates/student/event_pass.html -->
{% extends "base.html" %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h2 class="mb-0">Event Pass</h2>
                    <a href="{{ url_for('student.dashboard') }}" class="btn btn-light btn-sm">
                        <i class="fas fa-arrow-left me-1"></i>Back
                    </a>
                </div>
                <div class="card-body">
                    <div class="text-center mb-4">
                        <h4>{{ event.title }}</h4>
                        <p class="text-muted">
                            {{ event.date.strftime('%B %d, %Y') }} at {{ event.date.strftime('%I:%M %p') }}
                        </p>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 offset-md-3">
                            <div class="ratio ratio-4x3 mb-3">
                                <iframe src="data:application/pdf;base64,{{ pass_data }}"></iframe>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-center mt-3">
                        <a href="data:application/pdf;base64,{{ pass_data }}" download="Event_Pass_{{ event.title }}.pdf" class="btn btn-success">
                            <i class="fas fa-download me-2"></i>Download Pass
                        </a>
                        
                        <a href="javascript:window.print()" class="btn btn-outline-primary ms-2">
                            <i class="fas fa-print me-2"></i>Print Pass
                        </a>
                    </div>
                    
                    <div class="alert alert-info mt-4">
                        <div class="d-flex">
                            <div class="me-3">
                                <i class="fas fa-info-circle fa-2x"></i>
                            </div>
                            <div>
                                <h5 class="alert-heading">Important Information</h5>
                                <p class="mb-0">Please bring this pass with you to the event. You can either show the digital version or print it out. The QR code will be scanned at the entrance for verification.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}